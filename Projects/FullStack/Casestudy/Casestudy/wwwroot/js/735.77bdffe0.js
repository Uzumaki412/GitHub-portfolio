"use strict";(globalThis["webpackChunkvuecasestudy1"]=globalThis["webpackChunkvuecasestudy1"]||[]).push([[735],{2403:(t,e,a)=>{a.d(e,{G:()=>i,W:()=>o});const s="localhost"===window.location.hostname?"https://localhost:7211/api/":"/api/",i=async t=>{let e,a=l();try{let i=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await i.json()}catch(t){console.log(t),e={error:`Error has occured: ${t.message}`}}return e},o=async(t,e)=>{let a,i=l();try{let o=await fetch(`${s}${t}`,{method:"POST",headers:i,body:JSON.stringify(e)});a=await o.json()}catch(t){a=t}return a},l=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7735:(t,e,a)=>{a.r(e),a.d(e,{default:()=>$});var s=a(1347),i=a(7763);const o={class:"text-center"},l={class:"text-h6 text-positive"},r={key:0,class:"row q-pa-sm bg-grey-1",style:{"border-bottom":"1px solid #e0e0e0"}},c={class:"col-4"},d={class:"col-2 text-center"},n={class:"col-3 text-right"},g={class:"col-3 text-right"},m={key:1,class:"q-pa-md",style:{"background-color":"#fafafa"}},u={class:"row justify-end q-mb-xs"},p={class:"col-3 text-right"},h={class:"row justify-end q-mb-xs"},b={class:"col-3 text-right"},v={class:"row justify-end",style:{"border-top":"1px solid #ccc","padding-top":"8px","margin-top":"8px"}},x={class:"col-3 text-right text-weight-bold text-primary"},k={key:0,class:"q-mt-md"};function y(t,e,a,y,q,f){const w=(0,s.g2)("q-avatar"),L=(0,s.g2)("q-card"),C=(0,s.g2)("q-btn"),_=(0,s.g2)("q-scroll-area");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(w,{class:"q-mt-md big-avatar",size:"300px",square:""},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.Lk)("img",{src:"/img/i-want-to.png",style:{width:"100%",height:"100%","object-fit":"fill"}},null,-1)]))),_:1,__:[0]}),e[9]||(e[9]=(0,s.Lk)("div",{class:"text-h4 q-mt-md text-primary"},"Shopping Cart",-1)),(0,s.bF)(w,{class:"q-mt-md",size:"xl",square:""},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.Lk)("img",{src:"img/bag.png",style:{width:"100%",height:"100%","object-fit":"fill"}},null,-1)]))),_:1,__:[1]}),(0,s.Lk)("div",l,(0,i.v_)(y.state.status),1),(0,s.bF)(_,{style:{height:"55vh"}},{default:(0,s.k6)((()=>[(0,s.bF)(L,{class:"q-ma-md"},{default:(0,s.k6)((()=>[y.state.bag.length>0?((0,s.uX)(),(0,s.CE)("div",r,e[2]||(e[2]=[(0,s.Lk)("div",{class:"col-4 text-weight-medium"},"Name",-1),(0,s.Lk)("div",{class:"col-2 text-center text-weight-medium"},"Qty",-1),(0,s.Lk)("div",{class:"col-3 text-right text-weight-medium"},"MSRP",-1),(0,s.Lk)("div",{class:"col-3 text-right text-weight-medium"},"Extended",-1)]))):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(y.state.bag,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"row q-pa-sm",style:{"border-bottom":"1px solid #f0f0f0"}},[(0,s.Lk)("div",c,(0,i.v_)(t.item.productName),1),(0,s.Lk)("div",d,(0,i.v_)(t.qty),1),(0,s.Lk)("div",n,"$"+(0,i.v_)(t.item.msrp.toFixed(2)),1),(0,s.Lk)("div",g,"$"+(0,i.v_)((t.item.msrp*t.qty).toFixed(2)),1)])))),128)),y.state.bag.length>0?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",u,[e[3]||(e[3]=(0,s.Lk)("div",{class:"col-3"},null,-1)),e[4]||(e[4]=(0,s.Lk)("div",{class:"col-3 text-right"},"Sub:",-1)),(0,s.Lk)("div",p,"$"+(0,i.v_)(y.state.subTotal.toFixed(2)),1)]),(0,s.Lk)("div",h,[e[5]||(e[5]=(0,s.Lk)("div",{class:"col-3"},null,-1)),e[6]||(e[6]=(0,s.Lk)("div",{class:"col-3 text-right"},"Tax:",-1)),(0,s.Lk)("div",b,"$"+(0,i.v_)(y.state.tax.toFixed(2)),1)]),(0,s.Lk)("div",v,[e[7]||(e[7]=(0,s.Lk)("div",{class:"col-3"},null,-1)),e[8]||(e[8]=(0,s.Lk)("div",{class:"col-3 text-right text-weight-bold text-primary"},"Total:",-1)),(0,s.Lk)("div",x,"$"+(0,i.v_)(y.state.totalCost.toFixed(2)),1)])])):(0,s.Q3)("",!0)])),_:1}),y.state.bag.length>0?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(C,{color:"primary",icon:"shopping_bag",label:"Checkout",onClick:y.saveBag,class:"q-mr-md"},null,8,["onClick"]),(0,s.bF)(C,{color:"primary",icon:"delete",label:"Clear Bag",onClick:y.clearBag},null,8,["onClick"])])):(0,s.Q3)("",!0)])),_:1})])}a(939),a(7049),a(6593);var q=a(4187),f=a(2403);const w={setup(){let t=(0,q.Kh)({status:"",bag:[],totalCost:0,subTotal:0,tax:.13});(0,s.sV)((()=>{sessionStorage.getItem("bag")&&(t.bag=JSON.parse(sessionStorage.getItem("bag"))),t.bag.length>0&&(t.subTotal=t.bag.reduce(((t,e)=>t+e.item.msrp*e.qty),0),t.tax=.13*t.subTotal,t.totalCost=t.subTotal+t.tax)}));const e=async()=>{let e=JSON.parse(sessionStorage.getItem("customer")),s=JSON.parse(sessionStorage.getItem("bag"));s&&Array.isArray(s)&&(s=s.map((t=>({qtyOrdered:t.qty,product:{id:t.item.id,brandId:t.item.brandId||1,productName:t.item.productName,graphicName:t.item.graphicName,costPrice:t.item.costPrice,msrp:t.item.msrp,qtyOnHand:t.item.qtyOnHand,qtyOnBackOrder:t.item.qtyOnBackOrder,description:t.item.description}}))));try{t.status="sending bag info to server";let i={email:e.email,selections:s},o=await(0,f.W)("Order",i);o.indexOf("not")>0||a(),t.status=o}catch(e){console.log(e),t.status=`Error add bag: ${e}`}},a=()=>{sessionStorage.removeItem("bag"),t.bag=[],t.totalCost=0,t.subTotal=0,t.tax=.13,t.status="Bag cleared successfully!"};return{state:t,clearBag:a,saveBag:e}}};var L=a(2968),C=a(5305),_=a(6783),S=a(3341),O=a(9039),T=a(1529),F=a(272),A=a.n(F);const N=(0,L.A)(w,[["render",y]]),$=N;A()(w,"components",{QAvatar:C.A,QScrollArea:_.A,QCard:S.A,QBtn:O.A,QChip:T.A})}}]);