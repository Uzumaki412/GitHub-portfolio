"use strict";(globalThis["webpackChunkvuecasestudy1"]=globalThis["webpackChunkvuecasestudy1"]||[]).push([[974],{2403:(e,t,a)=>{a.d(t,{G:()=>l,W:()=>d});const s="localhost"===window.location.hostname?"https://localhost:7211/api/":"/api/",l=async e=>{let t,a=o();try{let l=await fetch(`${s}${e}`,{method:"GET",headers:a});t=await l.json()}catch(e){console.log(e),t={error:`Error has occured: ${e.message}`}}return t},d=async(e,t)=>{let a,l=o();try{let d=await fetch(`${s}${e}`,{method:"POST",headers:l,body:JSON.stringify(t)});a=await d.json()}catch(e){a=e}return a},o=()=>{const e=new Headers,t=JSON.parse(sessionStorage.getItem("customer"));return t?(e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+t.token)):e.append("Content-Type","application/json"),e}},7974:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(1347),l=a(7763);const d={class:"text-center"},o={class:"status q-mt-md text-subtitle2 text-negative","text-color":"red"},n={key:1,class:"text-h6 text-bold text-center text-primary"},r=["src"],i={class:"text-subtitle2 text-center"},c={class:"infoBar"},u={style:{"font-weight":"bold"}},g={class:"row"};function m(e,t,a,m,p,h){const b=(0,s.g2)("q-avatar"),y=(0,s.g2)("q-select"),f=(0,s.g2)("q-item-section"),k=(0,s.g2)("q-item"),v=(0,s.g2)("q-list"),q=(0,s.g2)("q-card"),w=(0,s.g2)("q-scroll-area"),_=(0,s.g2)("q-btn"),I=(0,s.g2)("q-card-actions"),x=(0,s.g2)("q-card-section"),S=(0,s.g2)("q-img"),B=(0,s.g2)("q-tooltip"),F=(0,s.g2)("q-chip"),A=(0,s.g2)("q-input"),C=(0,s.g2)("q-dialog"),Q=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(b,{class:"img q-mb-md",size:"x1",square:""},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.Lk)("img",{src:"/img/i-want-to.png",style:{width:"100%",height:"100%","object-fit":"fill"}},null,-1)]))),_:1,__:[6]}),t[8]||(t[8]=(0,s.Lk)("div",{class:"text-h2 q-mt-lg"},"Brand ",-1)),(0,s.Lk)("div",o,(0,l.v_)(m.state.status),1),m.state.brands.length>0?((0,s.uX)(),(0,s.Wv)(y,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",options:m.state.brands,label:"Select a Brand",modelValue:m.state.selectedBrandId,"onUpdate:modelValue":[t[0]||(t[0]=e=>m.state.selectedBrandId=e),t[1]||(t[1]=e=>m.getProduct())],"emit-value":"","map-options":!0},null,8,["options","modelValue"])):(0,s.Q3)("",!0),m.state.product.length>0?((0,s.uX)(),(0,s.CE)("div",n,(0,l.v_)(m.state.selectedBrand.name)+" ITEMS ",1)):(0,s.Q3)("",!0),(0,s.bF)(w,{style:{height:"55vh"}},{default:(0,s.k6)((()=>[(0,s.bF)(q,{class:"q-ma-md"},{default:(0,s.k6)((()=>[(0,s.bF)(v,{separator:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(m.state.product,(e=>((0,s.uX)(),(0,s.Wv)(k,{clickable:"",key:e.id,onClick:t=>m.selectMenuItem(e.id)},{default:(0,s.k6)((()=>[(0,s.bF)(f,{avatar:""},{default:(0,s.k6)((()=>[(0,s.bF)(b,{style:{height:"125px",width:"90px"},square:""},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:`/img/${e.graphicName}`},null,8,r)])),_:2},1024)])),_:2},1024),(0,s.bF)(f,{class:"text-left"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(e.productName),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),(0,s.bF)(C,{modelValue:m.state.itemSelected,"onUpdate:modelValue":t[5]||(t[5]=e=>m.state.itemSelected=e),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,s.k6)((()=>[(0,s.bF)(q,null,{default:(0,s.k6)((()=>[(0,s.bF)(I,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.bF)(_,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[Q]])])),_:1}),(0,s.bF)(x,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",i,(0,l.v_)(m.state.selectedMenuItem.productName)+" - "+(0,l.v_)(m.formatCurrency(m.state.selectedMenuItem.msrp)),1)])),_:1}),(0,s.bF)(x,{class:"text-center"},{default:(0,s.k6)((()=>[(0,s.bF)(S,{src:`/img/${m.state.selectedMenuItem.graphicName}`},null,8,["src"])])),_:1}),(0,s.bF)(x,null,{default:(0,s.k6)((()=>[(0,s.bF)(F,{icon:"bookmark",class:"q-chipD","text-color":"white"},{default:(0,s.k6)((()=>[t[7]||(t[7]=(0,s.eW)("Description ")),(0,s.bF)(B,{class:"qtooltipD","transition-show":"flip-right","transition-hide":"flip-left","text-color":"white"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",c,[(0,s.Lk)("p",u,[(0,s.Lk)("span",null,(0,l.v_)(m.state.selectedMenuItem.description),1)])])])])),_:1})])),_:1,__:[7]})])),_:1}),(0,s.bF)(x,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",g,[(0,s.bF)(A,{modelValue:m.state.qty,"onUpdate:modelValue":t[2]||(t[2]=e=>m.state.qty=e),modelModifiers:{number:!0},type:"number",filled:"",placeholder:"qty",hint:"Qty",dense:"",style:{"max-width":"12vw"}},null,8,["modelValue"]),(0,s.bF)(_,{class:"q-chipD","text-color":"white",label:"Add To Bag",disable:m.state.qty<0,onClick:t[3]||(t[3]=e=>m.addToBag()),style:{"max-width":"25vw","margin-left":"3vw"}},null,8,["disable"]),(0,s.bF)(_,{class:"q-chipD","text-color":"white",label:"View To Bag",onClick:t[4]||(t[4]=e=>m.viewBag()),style:{"max-width":"25vw","margin-left":"3vw"}})])])),_:1}),(0,s.bF)(x,{class:"text-center text-positive"},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(m.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])}a(939),a(7008);var p=a(4187),h=a(2403),b=a(8304),y=a(455);const f={setup(){let e=(0,p.Kh)({status:"",brands:[],product:[],selectedBrandId:"",selectedBrand:{},selectedMenuItem:{},dialogStatus:"",itemSelected:!1,qty:0,bag:[]});(0,s.sV)((()=>{t()}));const t=async()=>{try{e.status="Brands Loaded",e.brands=await(0,h.G)("Brand")}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},a=async()=>{try{e.selectedBrand=e.brands.find((t=>t.id===e.selectedBrandId)),e.status=`finding product for category ${e.selectedBrand}...`,e.product=await(0,h.G)(`Product/${e.selectedBrand.id}`),e.status=`loaded ${e.product.length} products for\n                ${e.selectedBrand.name}`}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},l=async t=>{try{e.selectedMenuItem=e.product.find((e=>e.id===t)),e.itemSelected=!0,e.dialogStatus="",sessionStorage.getItem("bag")&&(e.bag=JSON.parse(sessionStorage.getItem("bag")))}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},d=()=>{let t=-1;e.bag.length>0&&(t=e.bag.findIndex((t=>t.id===e.selectedMenuItem.id))),e.qty>0?(-1===t?e.bag.push({id:e.selectedMenuItem.id,qty:e.qty,item:e.selectedMenuItem}):e.bag[t]={id:e.selectedMenuItem.id,qty:e.qty,item:e.selectedMenuItem},e.dialogStatus=`${e.qty} item(s) added`):(-1!==t&&e.bag.splice(t,1),e.dialogStatus="item(s) removed"),sessionStorage.setItem("bag",JSON.stringify(e.bag)),e.qty=0},o=(0,y.rd)(),n=()=>{o.push("bag")};return{loadBrands:t,state:e,getProduct:a,selectMenuItem:l,addToBag:d,formatCurrency:b.v,viewBag:n}}};var k=a(2968),v=a(5305),q=a(2183),w=a(6783),_=a(3341),I=a(3766),x=a(2589),S=a(4958),B=a(2540),F=a(5034),A=a(9039),C=a(222),Q=a(7472),M=a(1529),$=a(8387),L=a(6067),T=a(8657),D=a(272),V=a.n(D);const E=(0,k.A)(f,[["render",m]]),N=E;V()(f,"components",{QAvatar:v.A,QSelect:q.A,QScrollArea:w.A,QCard:_.A,QList:I.A,QItem:x.A,QItemSection:S.A,QDialog:B.A,QCardActions:F.A,QBtn:A.A,QCardSection:C.A,QImg:Q.A,QChip:M.A,QTooltip:$.A,QInput:L.A}),V()(f,"directives",{ClosePopup:T.A})},8304:(e,t,a)=>{a.d(t,{Y:()=>l,v:()=>s});const s=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),l=e=>{let t;t=void 0===e?new Date:new Date(Date.parse(e));let a=t.getDate(),s=t.getMonth()+1,l=t.getFullYear(),d=t.getMinutes();return d<10&&(d="0"+d),l+"-"+s+"-"+a}}}]);